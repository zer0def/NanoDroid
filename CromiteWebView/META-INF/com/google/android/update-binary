#!/sbin/sh

umask 022
OUTFD="${2}"
ZIP="${3}"

MODID=NanoDroid_CromiteWebView

mkdir -p /dev/tmp
unzip -oq "${ZIP}" CommonInstaller -d "/dev/tmp"
if [ ! -f /dev/tmp/CommonInstaller ]; then
	echo " !! failed to load Common Installer"
	exit 1
else
	source "/dev/tmp/CommonInstaller"
fi

setup_installer 1

WEBVIEW_PKG="com.android.webview" WEBVIEW_DESC="Cromite WebView" WEBVIEW_SIG="MIIEzzCCAregAwIBAgIIe3EoNsMIx7QwDQYJKoZIhvcNAQENBQAwFTETMBEGA1UEAxMKQ3JvbWl0ZU9yZzAgFw0yMzA3MTkxMTI1MjBaGA8yMDUwMTIwNDExMjUyMFowFTETMBEGA1UEAxMKQ3JvbWl0ZU9yZzCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBAKZcpHyZ3cAQ7kUwR4gtIG5bf7ZzW29aidEw2ShUuOIL7u1pk/xgyTAQk9CZMO3PjMFJiCpv84ILwwpqgF+nLFCdnOMizApD138qxLENnHcGOJ+vxNdIsLk9NwbK8BmtT4SXclta5QOy246+DtM0Lysf7QxuQ0KCPeia8n/JTBy+YbeRhHxfXlgdO8LScOVdcvC/Be+5uAylUcbCQX0xcgSvDXBGX3OcIQ+kpPbocDkR+H01V6KY8BZI5g2iULyRjoqAvJT6rdeWzK4mHfXKYhEu1xrhWs5mQCbvp/ZYTmEcyoBvJE2lj+qRxgQDUh6XX41NIjjMiZuVtyyWDcsAsO3cGSghDWFbHrnIans90/GH37KSxMRPazSEinLem6bUfZye6U2SaP+pf4emv8SZLJXQJh5Uwsx4OOOGl7MFQKgyXEMJCS+6JKXFgg4FroFti5zir/1dSg4xwhmkM8+wgXuX2Gnb/5yTPcCX4VV9Ugg2xiblart4iixST66CNfqLHeFOQ9yy7fV8DzjbZY/zCxNflgr+839Q/74fHCvK22byMZ0f7BoWIvIi/1eex1Wjmpgk2WPyLEbhtbfNXR78xDFVQFc4GqO6PtbRsA6EUy2GBnrkiqaBjMP4Q11hkOd+zJ/IafNAKoYvdwKWDa/YOMiKCatsrPA6TyooZpY936pHAgMBAAGjITAfMB0GA1UdDgQWBBSwECBD7Hxf98TW2Qt1HyvplUshAjANBgkqhkiG9w0BAQ0FAAOCAgEAG39YouUPiHZKPQslEP3VXmyz6vIPk5kPygZegrVCPqL8XesxiO8cCRpILNq+C2vj03wzWf5BM7zz75E+Eil1CURQ0NQ2zJVLnxQF32cbyiEg+VU6E2BA24qgUkfNHKcrwURacci7SF9cRFfLKUiY/1MlwF/aKYOuAhbGEHLRIyQHNvAd1pd+mYLpa2yMxDoIi/OnRQ4lwnBYFCN9CIwdU3NQKnioTYaURTKhrQtSmgB5wVsZbqIbqdkSS9UIGodCW6aU3zEpkY1Oqhu++J4h8/ydfKf2RcaCz3EF8nM9G3BlNsbYEi2A+Ev/T2EbXC4b+QQmnjdVOxZgdKj7ul6z9EzfPxBn/A0Yl/5Iecj1sE92aBOqxdFKK8NQMT/AJbCkU8XurwRSHR4hY5F/EjzBsN4v7s2KtmkXyzmmp4skABebThypKautc93hzv+ZMILJbqyKvUkuUYs5gR1CHINn4xJLYdCDlGfdqno2IAHWKakV2uOGpcDCFFzf5ZUZ3PvmM/dnme7gYhYPFEgffMrknrNbERr9lIX4USAu5yDJ6vVAQp6/UZo1W+sM9uuTvt2J1ktkoJH9pDRB3mIrJDAKatO1BrZ8CW4mu/xqsmfM3k6gvawc6LH6G0g3+zvxvYQBI+fEdY2dzlUpAqEWuaT7IRttNOV+XW9Yn+k99J8nXGg=" install_webview
set_progress 0.75

nanodroid_finalize
set_progress 1.0

exit 0
